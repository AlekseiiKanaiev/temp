{
    "key": "snyk-bb-app",
    "name": "Snyk Security for Bitbucket Cloud",
    "description": "Snyk Security for Bitbucket Cloud allows developers to easily find and fix security vulnerabilities in open source dependencies and container files, all from within Bitbucket",
    "vendor": {
        "name": "Snyk",
        "url": "https://snyk.io"
    },
    "baseUrl": "{{localBaseUrl}}",
    "authentication": {
        "type": "jwt"
    },
    "lifecycle": {
        "installed": "/installed",
        "uninstalled": "/uninstalled"
    },
    "modules": {
        "webhooks": [
            {
                "event": "*",
                "url": "/webhook"
            }
        ],
        "repoPages": [
            {
                "url": "/pages/repo?useruuid={user.uuid}&targetuseruuid={target_user.uuid}&workspaceSlug={repository.workspace.slug}&repoSlug={repository.slug}&repoMainBranch={repository.mainbranch.name}&repoOwner={repository.owner.username}",
                "name": {
                    "value": "Snyk"
                },
                "location": "org.bitbucket.repository.navigation",
                "key": "snyk-repo-page",
                "params": {
                    "auiIcon": "aui-iconfont-doc"
                },
                "icon": {
                    "url": "/ico/SnykLogoBW.svg",
                    "width": 24,
                    "height": 24
                },
                "conditions": [
                    {
                        "condition": "has_permission",
                        "invert": false,
                        "params": {
                            "permission": "write"
                        }
                    }
                ]
            }
        ],
        "adminPages": [
            {
              "url": "/pages/account?useruuid={user.uuid}&targetuseruuid={target_user.uuid}",
              "location" : "org.bitbucket.account.admin",
              "name": {
                "value": "Integration Settings"
              },
              "key": "snyk-account-page",
              "params": {
                "auiIcon": "aui-iconfont-doc"
                },
            "icon": {
                "url": "/ico/SnykLogoBW.svg",
                "width": 24,
                "height": 24
            }
            }
            
          ]
    },
    "scopes": ["account", "repository"],
    "contexts": ["account"]
}
